module;

import ^.core.*;

operation __icmf_message(sender: byte_array, topic: text, body: gtv) {
    val rewards = list<Leaderboard.s_reward>.from_gtv(body);

    for(i in rewards) {
        val entry = Leaderboard.ensure(i.player);
        entry.points += i.points;
    }
}
